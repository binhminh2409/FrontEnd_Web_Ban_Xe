<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<!-- Breadcrumb Start -->
<div class="container-fluid">
  <div class="row px-xl-5">
    <div class="col-12">
      <nav class="breadcrumb bg-light mb-30">
        <a class="breadcrumb-item text-dark" href="#">Home</a>
        <a class="breadcrumb-item text-dark" href="#">Produc-Detail</a>
        <!-- <span class="breadcrumb-item active">Shop List</span> -->
      </nav>
    </div>
  </div>
</div>
<!-- Breadcrumb End -->

<div class="product">
  <div class="product_detail">
    <div class="product_detail-price" style="background-color: white;" *ngIf="products.length > 0">
      <div class="product_detail-price-item">
        <div class="product_detail-slide">
          <img [src]="getImageUrl(products[0])">
        </div>
      </div>
      <div class="product_detail-price-item">
        <div class="product-header-o row">
          <div class="product-img-l col-md-7">
            <h1 class="product_title entry-title">{{ products[0].productName}}</h1>
            <p class="price">
              <del *ngIf="products[0].priceHasDecreased" aria-hidden="true">
                <span class="woocommerce-Price-amount amount">
                  <bdi>{{formatPriceToVND(products[0].price)}}&nbsp;
                    <span class="woocommerce-Price-currencySymbol"></span>
                  </bdi>
                </span>
              </del>
              <ins aria-hidden="true">
                <span class="woocommerce-Price-amount amount">
                  <bdi>
                    {{formatPriceToVND(products[0].priceHasDecreased || products[0].price)}}&nbsp;
                    <span class="woocommerce-Price-currencySymbol"></span>
                  </bdi>
                </span>
              </ins>
            </p>
            <!-- Màu sắc -->
            <div class="color-options" *ngIf="allColors && allColors.length > 0">
              <button class="color-button" *ngFor="let produc of allColors" [style.background-color]="produc"
                [class.selected]="produc === color" (click)="onColorClick(produc)">
                {{ produc }}
              </button>
            </div>

            <!-- Kích thước -->
            <div class="size-options" *ngIf="allsize && allsize.length > 0">
              <button class="size-button" *ngFor="let produc of allsize" [class.selected]="produc === size"
                (click)="onSizeClick(produc)">
                {{ produc }}
              </button>
            </div>
            <p class="stock in-stock">{{products[0].status}}</p>
            <form class="cart" action="https://mintspeed.vn/cua-hang/xe-dap-the-thao-lauxjack-f06/" method="post"
              enctype="multipart/form-data">
              <button type="submit" name="add-to-cart" value="408" class="single_add_to_cart_button button alt"
                (click)="onAddToCart(products)">Thêm vào giỏ</button>
            </form>
            <!--------------------->
            <div class="border-blue rounded-lg mt-4">
              <div class="overflow-hidden">
                <h2 class="font-bold text-lg leading-7 p-2 text-center custom-bg-blue">Thông số kỹ thuật</h2>
                <table class="w-full font-medium text-xs">
                  <tbody class="[&amp;>*:nth-child(odd)]:bg-blue-10">
                    <div class="woocommerce-product-details__short-description">
                      <div class="is-divider small">
                        <h1>{{products[0].productName}}</h1>
                      </div>
                      <div class="product-short-description"
                        style="max-width: 400px; font-size: 14px; padding: 10px; border: 1px solid #ddd;">
                        <p *ngFor="let desc of products[0].description.split('–')">– {{ desc.trim() }}</p>
                      </div>
                    </div>
                  </tbody>
                </table>
              </div>
            </div>
            <!--------------------->
          </div>
          <div class="product-showroom col-md-5">
            <div class="front-main-cat-item">
              <div class="baceee clearfix">
                <div class="imgs-feater">
                  <img class="img-feater" src="https://mintspeed.vn/wp-content/uploads/2024/08/dollar-symbol.png"
                    alt="banner">
                </div>
                <div class="text-feater">
                  <h3>Giá tốt nhất thị trường<br></h3>
                </div>
              </div>
            </div>
            <div class="front-main-cat-item">
              <div class="baceee clearfix">
                <div class="imgs-feater">
                  <img class="img-feater" src="https://mintspeed.vn/wp-content/uploads/2024/08/shield.png" alt="banner">
                </div>
                <div class="text-feater">
                  <h3>Bảo hành 12 tháng<br></h3>
                </div>
              </div>
            </div>
            <div class="front-main-cat-item">
              <div class="baceee clearfix">
                <div class="imgs-feater">
                  <img class="img-feater" src="https://mintspeed.vn/wp-content/uploads/2024/08/fast-delivery.png"
                    alt="banner">
                </div>
                <div class="text-feater">
                  <h3>FREESHIP TOÀN QUỐC<br></h3>
                </div>
              </div>
            </div>
            <div class="front-main-cat-item">
              <div class="baceee clearfix">
                <div class="imgs-feater">
                  <img class="img-feater" src="https://mintspeed.vn/wp-content/uploads/2024/08/bookmark-1.png"
                    alt="banner">
                </div>
                <div class="text-feater">
                  <h3>Hàng chính hãng<br></h3>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="product-description">
      <!-- Thanh "Chi tiết sản phẩm" hiển thị mặc định -->
      <div class="head-pr" (click)="isDetailsVisible = !isDetailsVisible">
        <h3>Chi tiết sản phẩm</h3>
      </div>
      <!-- Nội dung chi tiết sản phẩm và phần bình luận chỉ hiển thị khi isDetailsVisible là true -->
      <div *ngIf="isDetailsVisible && getProducts_Detail">
        <div class="thong-so-kt">
          <div class="tskt">
            <div class="content-pro">
              <h2>{{ productName }}</h2>
              <div class="image-and-details">
                <p class="other-detail">{{ otherDetails[0] }}</p>

                <ng-container *ngFor="let imageUrl of imageUrls; let i = index">
                  <div class="image">
                    <img [src]="imageUrl" alt="{{ productName }}" class="product-image" />
                  </div>
                  <p class="other-detail">{{ otherDetails[i + 1] }}</p>
                </ng-container>
              </div>
              <p>Chăm sóc và Bảo dưỡng: Để đảm bảo {{ productName }} luôn hoạt động ổn định và bền bỉ, việc chăm sóc và
                bảo dưỡng đều rất quan trọng...</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="comment-section ">
      <h2>Bình luận về sản phẩm</h2>
      <form (ngSubmit)="onSubmitComment()">
        <div class="comments-container" style="height: 200px; overflow-y: auto;">
          <div *ngFor="let comment of comments" class="col-span-5 message-item">
            <p>{{ comment.content }}</p>
          </div>
        </div>
        <div class="form-group1">
          <label for="comment">Nội dung bình luận:</label>
          <textarea id="comment" [(ngModel)]="commentText" name="comment" rows="3" class="form-control"
            placeholder="Chưa có bình luận nào. Hãy là người đầu tiên bình luận!" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Gửi bình luận</button>
      </form>
    </div>
  </div>
</div>
<div class="similar_products">
</div>